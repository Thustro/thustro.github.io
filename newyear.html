<!DOCTYPE HTML>
<html>
<head>
<link href="https://hubspot.github.com/odometer/themes/odometer-theme-minimal.css" rel="stylesheet">
<link href="nycalltzstats.css" rel="stylesheet">
<link rel="stylesheet" href="https://huntingstats378.github.io/HuntingStats378/main/assets/ess/odometer05s.css">
<script src="https://huntingstats378.github.io/HuntingStats378/main/assets/ess/odometerleading.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.45/moment-timezone-with-data-10-year-range.min.js"></script>
<style>
p {
  font-size: 60px;
  margin-top: 0px;
}
label {
  font-size: 30px;
  margin-top: 0px;
}
</style>
</head>
<body>

<p id="days" class="odometer" style="font-size: 180px; position: relative; top: 80px; right: -50px;"></p>
<label style="font-size: 180px; position: relative; top: -35px; right: -50px;">:</label>
<p id="hours" class="odometer" style="font-size: 180px; position: relative; top: 80px; right: -50px;">:</p>
<label style="font-size: 180px; position: relative; top: -35px; right: -45px;">:</label>
<p id="minutes" class="odometer" style="font-size: 180px; position: relative; top: 80px; right: -50px;"></p>
<label style="font-size: 180px; position: relative; top: -35px; right: -50px;">:</label>
<p id="seconds" class="odometer" style="font-size: 180px; position: relative; top: 80px; right: -50px;"></p>	

<script>
// Initialize Odometers
const odometers = document.querySelectorAll(".odometer");
for (const odo of odometers) {
    new Odometer({
        el: odo,
        format: "(ddd)",
        minIntegerLen: 2,
        duration: 100  // fast animation using your odometer05s
    });
}

// Get timezone from URL parameter ?timezone=
const urlParams = new URLSearchParams(window.location.search);
let tz = urlParams.get("timezone") || "UTC";
if (!moment.tz.zone(tz)) {
    console.warn("Invalid timezone, defaulting to UTC");
    tz = "UTC";
}

// Countdown target date in the selected timezone
const countDownDate = moment.tz("2026-01-01 00:00", tz);

// Update the countdown every second
setInterval(function() {
    const now = moment.tz(tz);
    let diff = countDownDate.diff(now);
    if (diff < 0) diff = 0;

    const days = Math.floor(diff / (1000*60*60*24));
    const hours = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
    const minutes = Math.floor((diff % (1000*60*60)) / (1000*60));
    const seconds = Math.floor((diff % (1000*60)) / 1000);

    document.getElementById("days").innerHTML = days;
    document.getElementById("hours").innerHTML = hours;
    document.getElementById("minutes").innerHTML = minutes;
    document.getElementById("seconds").innerHTML = seconds;

}, 1000);
</script>

</body>
</html>
